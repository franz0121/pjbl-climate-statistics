import{r as n,j as e}from"./vendor_react-DCpd0Dq0.js";import{b as w,ae as be,af as R,ag as I,ah as W,ai as T,aj as D,ak as F,al as E,P as Dt,am as Ft,an as k,ao as Et,ap as Mt,aq as Lt,ar as Ot,as as Ut,at as Ht,au as Bt}from"./page-portals-StudentPortal-SwtZGgBI.js";import"./page-student_sections-Lesson1-DYq1Uzmx.js";const Ii=({user:r,onBack:vt})=>{const jt=(()=>{const t=localStorage.getItem("teacherClasses");if(t)try{const i=JSON.parse(t);for(const s of i){const a=s.students.find(l=>l.username===r.username);if(a)return a.name}}catch{}return r.username})(),[m,A]=n.useState({overview:!1,p1:!1,p2:!1,p3:!1,p4:!1}),[Re,qt]=n.useState([]),B=n.useMemo(()=>Math.round(Re.length/4*100),[Re]);n.useEffect(()=>{w(r.username,4,B)},[B,r.username]),n.useEffect(()=>{A({overview:!1,p1:!1,p2:!1,p3:!1,p4:!1}),Q({a1:!1,a2:!1}),Y({a1:!1,a2:!1,a3:!1})},[]);const[G,Q]=n.useState({a1:!1,a2:!1}),[Yt,_t]=n.useState(null),[zt,Vt]=n.useState(""),[Gt,Qt]=n.useState(""),[Zt,Jt]=n.useState(""),[Kt,Xt]=n.useState(""),[$t]=n.useState(!1),[,ei]=n.useState(!1),[ti,ii]=n.useState(0),[Z,Ie]=n.useState(""),[J,We]=n.useState(""),[K,Te]=n.useState(""),[X,De]=n.useState(!1),[y,S]=n.useState(0);n.useEffect(()=>{w(r.username,4,Math.min(100,B+y))},[B,y,r.username]),n.useEffect(()=>{try{let t=0;const i=be&&typeof be=="function"?be():{};i&&i[r.username]&&(t+=10);const s=R&&typeof R=="function"?R():{};s&&s[r.username]&&(t+=15);const a=I&&typeof I=="function"?I():{};a&&a[r.username]&&(t+=8);const l=W&&typeof W=="function"?W():{};l&&l[r.username]&&(t+=8);const o=T&&typeof T=="function"?T():{};o&&o[r.username]&&(t+=9);const h=D&&typeof D=="function"?D():{};h&&h[r.username]&&(t+=25);const g=F&&typeof F=="function"?F():{};g&&g[r.username]&&(t+=10);const N=E&&typeof E=="function"?E():{};N&&N[r.username]&&(t+=15);const p=Math.min(100,t);S(p);try{localStorage.setItem("lesson3_extra_progress",String(p))}catch{}}catch{}},[r.username]),n.useEffect(()=>{try{const i=be()[r.username];i&&(Ie(i.researchQuestion||""),We(i.regressionEquation||""),Te(i.interpretation||""),De(!0))}catch{}},[r.username]);const[we,bt]=n.useState(""),[$,wt]=n.useState(Array(12).fill("")),[Se,St]=n.useState(null),[q,Nt]=n.useState(null),[ee,Ne]=n.useState(null),[te,Fe]=n.useState(""),[C,Ee]=n.useState(!1);n.useEffect(()=>{try{const i=(R&&typeof R=="function"?R():{})[r.username];i&&(Fe(i.considerations||""),Ne(i.fileDataUrl||null),Ee(!0))}catch{}},[r.username]);const[M,Y]=n.useState({a1:!1,a2:!1,a3:!1}),[si,ni]=n.useState("data"),[ai]=n.useState("");n.useState(""),n.useState("");const[ri,li]=n.useState(""),[oi,di]=n.useState(""),[ie,At]=n.useState(null),[Me,se]=n.useState(null),[Ae,Le]=n.useState(!1);n.useEffect(()=>{try{const i=(I&&typeof I=="function"?I():{})[r.username];i&&(se(i.fileDataUrl||null),Le(!0))}catch{}},[r.username]),n.useEffect(()=>{try{const i=(T&&typeof T=="function"?T():{})[r.username];i&&(le(i.fileDataUrl||null),Be(i.interpretation||""),He(!0))}catch{}},[r.username]);const[ne,kt]=n.useState(null),[Oe,ae]=n.useState(null),[ke,Ue]=n.useState(!1);n.useEffect(()=>{try{const i=(W&&typeof W=="function"?W():{})[r.username];i&&(ae(i.fileDataUrl||null),Ue(!0))}catch{}},[r.username]);const[_,Ct]=n.useState(null),[re,le]=n.useState(null),[z,He]=n.useState(!1),[oe,Be]=n.useState(""),[de,Pt]=n.useState(null),[qe,ce]=n.useState(null),[Ye,_e]=n.useState(!1);n.useEffect(()=>{try{const i=(D&&typeof D=="function"?D():{})[r.username];i&&(ce(i.fileDataUrl||null),_e(!0))}catch{}},[r.username]);const[ci,hi]=n.useState(""),[pi,ui]=n.useState(""),[,gi]=n.useState(""),[xi,yi]=n.useState(""),[fi,mi]=n.useState(!1),[vi,ji]=n.useState(null),[bi,wi]=n.useState(""),[Si,Ni]=n.useState(0),[Ai,ki]=n.useState(""),[he,ze]=n.useState(""),[pe,Ve]=n.useState(""),[ue,Ge]=n.useState(""),[ge,Qe]=n.useState(""),[xe,Ze]=n.useState(""),[ye,Je]=n.useState(""),[fe,Ke]=n.useState(""),[v,Xe]=n.useState(!1);n.useEffect(()=>{try{const s=(F&&typeof F=="function"?F():{})[r.username];if(s&&s.review){const a=s.review;ze(Array.isArray(a.q1)?a.q1[0]||"":a.q1||""),Ve(Array.isArray(a.q2)?a.q2[0]||"":a.q2||""),Ge(Array.isArray(a.q3)?a.q3[0]||"":a.q3||""),Qe(Array.isArray(a.q4)?a.q4[0]||"":a.q4||""),Ze(a.strength||""),Je(a.suggestion||""),Ke(a.reviewer||""),Xe(!0)}}catch{}},[r.username]);const[$e,et]=n.useState(""),[tt,it]=n.useState(""),[st,nt]=n.useState(""),[at,rt]=n.useState(""),[lt,ot]=n.useState(""),[dt,ct]=n.useState(""),[ht,pt]=n.useState(""),[ut,gt]=n.useState(""),[me,Rt]=n.useState(null),[xt,ve]=n.useState(null),[Ce,yt]=n.useState(!1);return n.useEffect(()=>{try{const i=(E&&typeof E=="function"?E():{})[r.username];if(i&&(i.uploadUrl||i.reflection)){const s=i.reflection||{};et(s.confidence||""),it(s.contributed||""),nt(s.challenging||""),rt(s.stats||""),ot(s.climate||""),ct(s.connection||""),pt(s.extend||""),gt(s.learned||""),ve(i.uploadUrl||null),yt(!0)}}catch{}},[r.username]),e.jsxs("div",{className:"portal-container",children:[e.jsxs("header",{className:"portal-header",children:[e.jsxs("div",{className:"header-left",children:[e.jsx("span",{className:"header-badge badge--lesson3",children:"üéØ"}),e.jsxs("div",{className:"header-texts",children:[e.jsx("h1",{className:"portal-title",children:"Lesson 3: Climate Predictions and Applications in Regression"}),e.jsx("p",{className:"portal-subtitle",children:"Student Section"})]})]}),e.jsxs("div",{className:"header-right",children:[e.jsxs("p",{className:"welcome-text",children:["Welcome, ",e.jsx("strong",{children:jt})]}),e.jsx("button",{className:"logout-button",onClick:vt,children:"Back to Dashboard"})]})]}),e.jsx("main",{className:"portal-content",children:e.jsxs("div",{className:"lesson-container",children:[e.jsx(Dt,{progress:Math.min(100,B+y)}),e.jsxs("div",{className:"accordion",children:[e.jsxs("div",{className:"accordion-item overview",children:[e.jsxs("div",{className:"accordion-header",onClick:()=>A(t=>({...t,overview:!t.overview})),children:[e.jsx("h3",{children:"üß≠ Mission Brief: What Will Our Weather Cost Us?"}),e.jsx("span",{children:m.overview?"‚ñº":"‚ñ∂"})]}),m.overview&&e.jsx("div",{className:"accordion-content",children:e.jsxs("div",{className:"mission-brief",children:[e.jsxs("div",{className:"intro-text",children:[e.jsx("div",{className:"hero-title",children:"üìö LESSON 3: Climate Predictions and Applications in Regression"}),e.jsx("div",{className:"hero-subtitle",children:e.jsx("em",{children:'AKA "Playing Fortune Teller, But With Math (So It Actually Works)"'})}),e.jsx("div",{className:"gap-3"}),e.jsx("p",{children:"Hey there, future data detectives! üëã"}),e.jsx("p",{children:`You've found correlations. You've built regression lines. Now it's time for the grand finale: PREDICTIONS! What if we could tell the barangay captain, "if next month is 3 degrees hotter, expect flooding to increase by this much"?`}),e.jsx("p",{children:"That's the power you're unlocking today. You're not just analyzing the past anymore‚Äîyou're forecasting the future and helping your community prepare for it. Time to put your regression skills to work solving real problems! üéØ‚ú®"}),e.jsx("div",{className:"gap-3"})]}),e.jsxs("div",{className:"brief-grid two-up",children:[e.jsxs("div",{className:"brief-card",children:[e.jsx("div",{className:"card-title",children:"What You Will Master:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Predict dependent variables like a boss (use your regression powers for good!)"}),e.jsx("li",{children:"Solve real-world regression problems (because hypothetical problems are boring)"})]})]}),e.jsxs("div",{className:"brief-card",children:[e.jsx("div",{className:"card-title",children:"Your Mission:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Explain how regression equations let you see the future (kind of)"}),e.jsx("li",{children:"Predict outcomes with scary accuracy using your equations"}),e.jsx("li",{children:"Analyze problems, admit when math has limits (humility = science!), and still propose killer recommendations"})]})]}),e.jsxs("div",{className:"brief-card epic-card",children:[e.jsx("div",{className:"card-title project-title",children:"Your Epic Project: üéØ"}),e.jsx("div",{className:"card-subtitle project-center",children:'"What Will Our Weather Cost Us?" ‚Äî Climate-Impact Prediction Project'}),e.jsx("p",{children:"Model how climate variables affect real community concerns (flooding? crop loss? electric bills?), make actual predictions, and pitch solutions to stakeholders. You're basically saving the world, one equation at a time."}),e.jsxs("p",{className:"time-budget-text",children:["‚è∞ Time Budget: 4 hours ",e.jsx("span",{className:"time-note",children:e.jsx("em",{children:"(same as one really good nap)"})})]})]})]}),e.jsxs("div",{className:"closing-text",children:[e.jsx("h4",{className:"body-heading",children:"Ready to Start This Adventure?"}),e.jsx("p",{children:"By the end of this lesson, you'll be a full-fledged climate forecaster. You'll plug numbers into your regression equation and out comes the future! You'll know not just what's happening, but what's going to happen‚Äîand what we can do about it. You'll present solutions so solid that community leaders will actually want to hear from you."}),e.jsx("div",{className:"gap-2"}),e.jsx("p",{children:e.jsx("strong",{children:"So, what are you waiting for?"})}),e.jsx("p",{children:"Your final journey begins now with Phase 1. Let's turn your regression equation into a crystal ball that actually works! üéØ ‚û°Ô∏è üìä ‚û°Ô∏è üí° ‚û°Ô∏è üåç"}),e.jsxs("div",{className:"closing-cta",children:[e.jsx("p",{children:e.jsx("em",{children:"Click ahead to Phase 1, where we predict the future and change it for the better! üîç"})}),e.jsx("div",{className:"section-actions start-row",children:e.jsx("button",{className:"save-btn",onClick:()=>A(t=>({...t,overview:!1,p1:!0})),children:"Start First Mission"})})]})]})]})})]}),e.jsxs("div",{className:"accordion-item phase1",children:[e.jsxs("div",{className:"accordion-header",onClick:()=>{A(t=>({...t,p1:!t.p1})),Q({a1:!1,a2:!1})},children:[e.jsx("h3",{children:"Phase 1: Reviewing Foundations and Exploring Variables"}),e.jsx("span",{children:m.p1?"‚ñº":"‚ñ∂"})]}),m.p1&&e.jsx("div",{className:"accordion-content",children:e.jsxs("div",{className:"sub-accordion",children:[e.jsxs("div",{className:"sub-item",children:[e.jsxs("div",{className:"sub-header green",onClick:()=>Q(t=>({...t,a1:!t.a1})),children:[e.jsxs("span",{className:"label",children:[e.jsx("span",{className:"icon",children:"üîé"})," ",e.jsx("b",{children:"Activity 1: Revisiting Your Research Framework"})]}),e.jsx("span",{className:"right-indicator",children:e.jsx("span",{className:"toggle-sign",children:G.a1?"‚àí":"+"})})]}),e.jsxs("div",{className:"sub-content",style:{display:G.a1?"block":"none"},children:[e.jsxs("div",{className:"brief-grid two-up",style:{gap:16,marginTop:16},children:[e.jsxs("div",{className:"info-card",style:{minHeight:120},children:[e.jsx("div",{style:{fontWeight:700},children:"üß≠ What you will do:"}),e.jsx("div",{style:{marginTop:8},children:"‚Ä¢ You will review and summarize the key elements of your research, including your variables, research question, regression equation, and what that equation means in the context of your study."})]}),e.jsxs("div",{className:"info-card",style:{minHeight:120},children:[e.jsx("div",{style:{fontWeight:700},children:"üõ†Ô∏è How to do it:"}),e.jsxs("div",{style:{marginTop:8},children:["‚Ä¢ Retrieve your previous work and identify each component‚Äîyour independent variable (what you're testing), dependent variable (what you're measuring), research question, regression line equation, and your interpretation of what the equation tells you about the relationship between variables.",e.jsx("br",{}),"‚Ä¢ Write these down clearly for reference."]})]})]}),e.jsxs("div",{className:"card",style:{marginTop:16,padding:16},children:[e.jsx("div",{style:{fontWeight:700,textAlign:"left"},children:"Recalling Research Key Components"}),e.jsx("p",{style:{marginTop:8,marginBottom:12,textAlign:"left"},children:"Recall the following components of your previous project and complete the needed information below."}),e.jsxs("div",{style:{marginTop:12},children:[e.jsx("div",{style:{fontWeight:700,marginBottom:6},children:"A. Our Research Question:"}),e.jsx("input",{value:Z,onChange:t=>Ie(t.target.value),readOnly:X,style:{width:"100%",padding:12,border:"1px solid var(--input-border)",borderRadius:8,background:"var(--input-bg)"}}),e.jsx("div",{style:{height:8}}),e.jsx("div",{style:{fontWeight:700,marginBottom:6},children:"B. Our Regression Line Equation:"}),e.jsx("input",{value:J,onChange:t=>We(t.target.value),readOnly:X,style:{width:"100%",padding:12,border:"1px solid var(--input-border)",borderRadius:8,background:"var(--input-bg)"}}),e.jsx("div",{style:{height:8}}),e.jsx("div",{style:{fontWeight:700,marginBottom:6},children:"C. Our Interpretation of the Equation:"}),e.jsx("input",{value:K,onChange:t=>Te(t.target.value),readOnly:X,style:{width:"100%",padding:12,border:"1px solid var(--input-border)",borderRadius:8,background:"var(--input-bg)"}}),e.jsx("div",{style:{height:16}}),e.jsx("div",{className:"section-actions",children:e.jsx("button",{className:"save-btn",disabled:X||!(Z.trim()&&J.trim()&&K.trim()),onClick:()=>{if(Z.trim()&&J.trim()&&K.trim()){try{Ft(r.username,{researchQuestion:Z.trim(),regressionEquation:J.trim(),interpretation:K.trim(),timestamp:new Date().toISOString()})}catch(t){console.error("save failed",t)}De(!0);try{const t=k(r.username)||{1:0,2:0,3:0,4:0,5:0},i=Number(t[4]||0)||0,s=Math.min(100-i,10);if(s>0){const a=Math.min(100,y+s);S(a);try{localStorage.setItem("lesson3_extra_progress",String(a))}catch{}w(r.username,4,Math.min(100,i+s))}}catch{}}},children:"Finalize Components"})})]})]})]})]}),e.jsxs("div",{className:"sub-item",children:[e.jsxs("div",{className:"sub-header green",onClick:()=>Q(t=>({...t,a2:!t.a2})),children:[e.jsxs("span",{className:"label",children:[e.jsx("span",{className:"icon",children:"üîç"})," ",e.jsx("b",{children:"Activity 2: Identifying Confounding Variables"})]}),e.jsx("span",{className:"right-indicator",children:e.jsx("span",{className:"toggle-sign",children:G.a2?"‚àí":"+"})})]}),e.jsxs("div",{className:"sub-content",style:{display:G.a2?"block":"none"},children:[e.jsxs("div",{className:"brief-grid two-up",style:{gap:16,marginTop:8},children:[e.jsxs("div",{className:"info-card",style:{minHeight:100},children:[e.jsx("div",{style:{fontWeight:700},children:"üß≠ What you will do:"}),e.jsx("div",{style:{marginTop:8},children:"‚Ä¢ You will collaborate with your group to identify other possible factors beyond your independent variable that could influence your dependent variable."})]}),e.jsxs("div",{className:"info-card",style:{minHeight:100},children:[e.jsx("div",{style:{fontWeight:700},children:"üõ†Ô∏è How to do it:"}),e.jsxs("div",{style:{marginTop:8},children:["‚Ä¢ Discuss with your group members what other real-world factors might affect your results.",e.jsx("br",{}),"‚Ä¢ Consider environmental, social, temporal, or other contextual variables that weren't part of your original study but could impact your dependent variable.",e.jsx("br",{}),"‚Ä¢ Create a list of these potential confounding factors."]})]})]}),e.jsxs("div",{className:"card",style:{marginTop:16,padding:16},children:[e.jsx("div",{style:{fontWeight:700,textAlign:"left"},children:"Brainstorming on Other Factors that Affect the Dependent Variable"}),e.jsx("p",{style:{marginTop:8,marginBottom:12,textAlign:"left"},children:"Discuss with your group members other factors aside from your independent variable that you think can also influence your dependent variable. Encode your answers below."}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[e.jsx("div",{style:{fontWeight:700},children:"Our Dependent Variable:"}),e.jsx("input",{value:we,onChange:t=>bt(t.target.value),readOnly:C,style:{flex:1,padding:10,border:"1px solid var(--input-border)",borderRadius:8,background:"var(--input-bg)"}})]}),e.jsx("div",{style:{fontWeight:700,marginTop:8,marginBottom:8},children:"Other factors that we think can also influence our dependent variable:"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gap:10},children:$.map((t,i)=>e.jsx("input",{value:t,onChange:s=>{const a=[...$];a[i]=s.target.value,wt(a)},readOnly:C,placeholder:`Factor ${i+1}`,style:{padding:10,border:"1px solid var(--input-border)",borderRadius:8,background:"var(--input-bg)"}},i))}),e.jsxs("div",{style:{marginTop:12},children:[e.jsx("button",{className:"save-btn",disabled:$.filter(t=>t.trim()).length<4||C,onClick:()=>{const t=$.filter(i=>i.trim());t.length<4||St({nodes:t})},children:"Generate Diagram"}),e.jsx("button",{style:{marginLeft:12},className:"save-btn",disabled:!Se,onClick:async()=>{const t=document.getElementById("concept-svg");if(!t)return;const i=t.cloneNode(!0);i.getAttribute("xmlns")||i.setAttribute("xmlns","http://www.w3.org/2000/svg");let a=new XMLSerializer().serializeToString(i);const l=document.querySelector(".accordion-item.phase1");let o="#FFF5F2",h="#FFD4C4",g="#8A5D4D",N="#6B3D2F",p="#E6B8A5",x="#4D2920";if(l){const d=getComputedStyle(l);o=(d.getPropertyValue("--cards-bg")||o).trim(),h=(d.getPropertyValue("--input-border")||h).trim(),g=(d.getPropertyValue("--p-regular")||g).trim(),N=(d.getPropertyValue("--plot-primary")||N).trim(),p=(d.getPropertyValue("--plot-secondary")||p).trim(),x=(d.getPropertyValue("--plot-value-primary")||x).trim()}a=a.replace(/var\(--cards-bg\)/g,o).replace(/var\(--input-border\)/g,h).replace(/var\(--text-color\)/g,g).replace(/var\(--plot-primary\)/g,N).replace(/var\(--plot-secondary\)/g,p).replace(/var\(--plot-value-primary\)/g,x);const Pe="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(a),j=new Image,b=document.createElement("canvas");b.width=800,b.height=600;const c=b.getContext("2d");c&&(j.onload=()=>{c.fillStyle="#ffffff",c.fillRect(0,0,b.width,b.height),c.drawImage(j,0,0,b.width,b.height);const d=document.createElement("a");d.href=b.toDataURL("image/jpeg",.92),d.download="concept-map.jpg",d.click()},j.onerror=d=>{console.error("SVG -> Image load error",d)},j.src=Pe)},children:"Download Diagram"})]}),e.jsx("div",{style:{height:16}}),e.jsx("div",{style:{width:"100%",padding:8,border:"1px dashed var(--input-border)",borderRadius:8,minHeight:240,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("div",{style:{width:"80%",height:"80%",display:"flex",alignItems:"center",justifyContent:"center"},children:Se?e.jsx("div",{style:{width:"100%"},children:e.jsx("div",{style:{width:"100%",paddingBottom:"75%",position:"relative"},children:e.jsx("div",{style:{position:"absolute",inset:0},children:e.jsxs("svg",{id:"concept-svg",viewBox:"0 0 800 600",preserveAspectRatio:"xMidYMid meet",style:{width:"100%",height:"100%"},children:[e.jsx("defs",{children:e.jsx("style",{children:".node{fill:#FFF5F9;stroke:#FFD4E4;stroke-width:2}.label{font:14px sans-serif;fill:#2C2C2C}"})}),e.jsx("rect",{x:0,y:0,width:800,height:600,fill:"transparent"}),(()=>{const t=Se.nodes,i=400,s=300,a=Math.PI*2/t.length,l=192,o=.5*96,h=t,g=3.5*96/2,N=.75*96/2,p=l/2,x=o/2,Pe=c=>{const d=[],P=[];for(let u=0;u<h.length;u++){const f=u*a-Math.PI/2,L=Math.cos(f),O=Math.sin(f);let je;const ft=1e-6;Math.abs(L)<ft?je=N/Math.abs(O):Math.abs(O)<ft?je=g/Math.abs(L):je=Math.min(g/Math.abs(L),N/Math.abs(O));const Wt=Math.max(Math.abs(L)*p,Math.abs(O)*x);let V=je+c+Wt,U=i+L*V,H=s+O*V,mt=0;for(;(U-p<0||U+p>800||H-x<0||H+x>600)&&mt<20;)V-=8,U=i+L*V,H=s+O*V,mt++;const Tt={left:U-p,top:H-x,right:U+p,bottom:H+x};d.push(Tt),P.push({x:U,y:H})}const It=(u,f)=>!(u.right<=f.left||u.left>=f.right||u.bottom<=f.top||u.top>=f.bottom);for(let u=0;u<d.length;u++)for(let f=u+1;f<d.length;f++)if(It(d[u],d[f]))return null;return P};let j=null;for(let c=0;c<=96;c+=4){const d=Pe(c);if(d){j=d;break}}j||(j=h.map((c,d)=>{const P=d*a-Math.PI/2;return{x:i+Math.cos(P)*180,y:s+Math.sin(P)*180}}));const b=Math.max(...j.map(c=>c.y+x));return e.jsxs("g",{children:[j.map((c,d)=>e.jsxs("g",{children:[e.jsx("line",{x1:i,y1:s,x2:c.x,y2:c.y,stroke:"var(--plot-primary)",strokeWidth:2}),e.jsx("rect",{x:c.x-p,y:c.y-x,rx:20,ry:20,width:l,height:o,fill:"var(--cards-bg)",stroke:"var(--input-border)",strokeWidth:2}),e.jsx("foreignObject",{x:c.x-p+6,y:c.y-x+6,width:l-12,height:o-12,children:e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",padding:"6px",textAlign:"center",overflow:"hidden",fontSize:12,color:"var(--text-color)"},children:h[d]})})]},d)),e.jsx("g",{children:e.jsxs("g",{children:[e.jsx("rect",{x:i-336/2,y:s-72/2,rx:28,ry:28,width:336,height:72,fill:"var(--cards-bg)",stroke:"var(--input-border)",strokeWidth:2}),e.jsx("foreignObject",{x:i-336/2+6,y:s-72/2+6,width:324,height:60,children:e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",padding:"6px",textAlign:"center",overflow:"hidden",fontSize:14,color:"var(--text-color)",fontWeight:700},children:we||"Dependent Variable"})})]})}),(()=>{const d=s+36,P=Math.max(b,d);return e.jsxs("text",{x:i,y:Math.min(580,P+40),textAnchor:"middle",style:{fontSize:14,fontWeight:700,fill:"var(--text-color)"},children:["Figure 1. Concept Mapping of Other Factors that Influence ",we||"Dependent Variable"]})})()]})})()]})})})}):e.jsx("div",{className:"hint",children:"Diagram preview will appear here after generation."})})}),e.jsx("div",{style:{height:16}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx("div",{style:{fontWeight:700},children:"Upload your concept map here:"}),e.jsx("input",{type:"file",accept:"image/*",disabled:C,onChange:t=>{const i=t.target.files?.[0]??null;if(Nt(i),i)try{const s=new FileReader;s.onload=a=>{Ne(String(a.target?.result||""))},s.readAsDataURL(i)}catch{Ne(null)}}})]}),e.jsx("div",{style:{height:16}}),e.jsx("div",{style:{fontWeight:700},children:"What were your considerations for identifying these factors to influence your dependent variable?"}),e.jsx("textarea",{rows:3,value:te,onChange:t=>Fe(t.target.value),readOnly:C,style:{width:"100%",padding:12,border:"1px solid var(--input-border)",borderRadius:8,background:"var(--input-bg)"}}),e.jsx("div",{style:{height:20}}),e.jsx("div",{className:"section-actions",children:e.jsx("button",{className:"save-btn",disabled:C||!q&&!ee&&!te.trim(),onClick:async()=>{if(C||!q&&!ee&&!te.trim())return;let t=!1;try{const a=R();a&&a[r.username]&&(t=!0)}catch{}let i,s;if(q){s=q.name;try{i=await new Promise((a,l)=>{const o=new FileReader;o.onload=()=>a(String(o.result||"")),o.onerror=()=>l(new Error("read error")),o.readAsDataURL(q)})}catch(a){console.error("file read failed",a)}}else ee&&(i=ee);try{await Et(r.username,{fileDataUrl:i,filename:s,considerations:te.trim(),timestamp:new Date().toISOString()})}catch(a){console.error("save failed",a)}Ee(!0);try{if(!t){const a=k(r.username)||{1:0,2:0,3:0,4:0,5:0},l=Number(a[4]||0)||0,o=Math.min(100-l,15);if(o>0){const h=Math.min(100,y+o);S(h);try{localStorage.setItem("lesson3_extra_progress",String(h))}catch{}w(r.username,4,Math.min(100,l+o))}}}catch{}},children:"Submit Answer"})})]})]})]})]})})]}),e.jsxs("div",{className:"accordion-item phase2",children:[e.jsxs("div",{className:"accordion-header",onClick:()=>{A(t=>({...t,p2:!t.p2})),Y({a1:!1,a2:!1,a3:!1})},children:[e.jsx("h3",{children:"Phase 2: Testing Predictions and Model Strength"}),e.jsx("span",{children:m.p2?"‚ñº":"‚ñ∂"})]}),m.p2&&e.jsx("div",{className:"accordion-content",children:e.jsxs("div",{className:"sub-accordion",children:[e.jsxs("div",{className:"sub-item",children:[e.jsxs("div",{className:"sub-header blue",onClick:()=>Y(t=>({...t,a1:!t.a1})),children:[e.jsxs("span",{className:"label",children:[e.jsx("span",{className:"icon",children:"üìà"})," ",e.jsx("b",{children:"Activity 1: Making Predictions Within Your Data Range"})]}),e.jsx("span",{className:"right-indicator",children:e.jsx("span",{className:"toggle-sign",children:M.a1?"‚àí":"+"})})]}),e.jsxs("div",{className:"sub-content",style:{display:M.a1?"block":"none"},children:[e.jsxs("div",{className:"brief-grid two-up",style:{gap:16,marginTop:8},children:[e.jsxs("div",{className:"info-card",style:{minHeight:120,display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[e.jsx("div",{style:{fontWeight:700},children:"üß≠ What you will do:"}),e.jsx("div",{style:{marginTop:8},children:"‚Ä¢ You will use your regression equation to predict dependent variable values for independent variable values that fall within the range of your collected data."})]}),e.jsxs("div",{className:"info-card",style:{minHeight:120,display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[e.jsx("div",{style:{fontWeight:700},children:"üõ†Ô∏è How to do it:"}),e.jsxs("div",{style:{marginTop:8},children:["‚Ä¢ Access the interpolation sheet from the provided link.",e.jsx("br",{}),"‚Ä¢ Select values for your independent variable that are within the minimum and maximum values of your dataset.",e.jsx("br",{}),"‚Ä¢ Use your regression equation to calculate the predicted y-values and compare them to the pattern in your data."]})]})]}),e.jsxs("div",{className:"card",style:{marginTop:16,padding:16},children:[e.jsx("div",{style:{fontWeight:700,textAlign:"left"},children:"Interpolation Prediction Activity"}),e.jsx("div",{style:{marginTop:8,textAlign:"left"},children:e.jsxs("div",{children:["Instructions:",e.jsx("br",{}),"1. Click on the link to open the interpolation sheet.",e.jsx("br",{}),"2. Make a copy of the template for yourself.",e.jsx("br",{}),"3. Using the data of your independent variable, complete the tasks in the sheet.",e.jsx("br",{}),"4. When you're finished, download your completed work in PDF format.",e.jsx("br",{}),"5. Upload your file using the link below."]})}),e.jsx("div",{style:{height:24}}),e.jsx("a",{href:"https://docs.google.com/spreadsheets/d/1bF_BgkRRgKfyutA9DDFF6XcnHg2soSZkwJbBMZmEg8g/edit?usp=sharing",target:"_blank",rel:"noopener noreferrer",children:e.jsx("button",{className:"save-btn",style:{padding:"12px 22px",fontSize:16},children:"Interpolation Activity"})}),e.jsx("div",{style:{height:40}}),e.jsx("div",{style:{fontWeight:700,textAlign:"left"},children:"Upload your output here."}),e.jsxs("div",{style:{marginTop:8,textAlign:"left"},children:["Before uploading, make sure it is in PDF format with this filename format: ",e.jsx("strong",{children:"Lesson3_Phase2_Activity1_username"}),"."]}),e.jsx("div",{style:{height:24}}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:12},children:e.jsx("input",{type:"file",accept:"application/pdf",disabled:Ae,onChange:t=>{const i=t.target.files?.[0]??null;if(At(i),i)try{const s=new FileReader;s.onload=()=>{se(String(s.result||""))},s.readAsDataURL(i)}catch{se(null)}else se(null)}})}),e.jsx("div",{style:{height:24}}),e.jsx("div",{style:{width:"100%",padding:8,border:"3px solid rgba(0,0,0,0.18)",borderRadius:8,minHeight:0,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("div",{style:{width:"100%",paddingTop:"56.25%",position:"relative"},children:e.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center"},children:Me?e.jsx("iframe",{src:Me,style:{width:"100%",height:"100%",border:"none"},title:"Preview"}):e.jsx("div",{className:"hint",children:"No file uploaded. Preview will appear here."})})})}),e.jsx("div",{style:{height:40}}),e.jsx("div",{className:"section-actions",style:{display:"flex",justifyContent:"flex-start"},children:e.jsx("button",{className:"save-btn",disabled:Ae||!ie,onClick:async()=>{if(!ie)return;let t=!1;try{const s=I();s&&s[r.username]&&(t=!0)}catch{}let i;try{i=await new Promise((s,a)=>{const l=new FileReader;l.onload=()=>s(String(l.result||"")),l.onerror=()=>a(new Error("read error")),l.readAsDataURL(ie)})}catch(s){console.error("read failed",s)}try{await Mt(r.username,{fileDataUrl:i,filename:ie.name,timestamp:new Date().toISOString()})}catch(s){console.error("save failed",s)}Le(!0);try{if(!t){const s=k(r.username)||{1:0,2:0,3:0,4:0,5:0},a=Number(s[4]||0)||0,l=Math.min(100-a,8);if(l>0){const o=Math.min(100,y+l);S(o);try{localStorage.setItem("lesson3_extra_progress",String(o))}catch{}w(r.username,4,Math.min(100,a+l))}}}catch{}},children:"Submit Output"})}),Ae&&e.jsx("div",{style:{marginTop:12,textAlign:"left"},children:"You just unlocked 'Interpolation Power'‚Äîpredicting y-values INSIDE your data like a detective finding clues in the evidence! You're basically Sherlock Holmes with graphs! üïµÔ∏è‚Äç‚ôÄÔ∏è"})]})]})]}),e.jsxs("div",{className:"sub-item",children:[e.jsxs("div",{className:"sub-header blue",onClick:()=>Y(t=>({...t,a2:!t.a2})),children:[e.jsxs("span",{className:"label",children:[e.jsx("span",{className:"icon",children:"üìà"})," ",e.jsx("b",{children:"Activity 2: Making Predictions Beyond Your Data Range"})]}),e.jsx("span",{className:"right-indicator",children:e.jsx("span",{className:"toggle-sign",children:M.a2?"‚àí":"+"})})]}),e.jsxs("div",{className:"sub-content",style:{display:M.a2?"block":"none"},children:[e.jsxs("div",{className:"brief-grid two-up",style:{gap:16,marginTop:8},children:[e.jsxs("div",{className:"info-card",style:{minHeight:120,display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[e.jsx("div",{style:{fontWeight:700},children:"üß≠ What you will do:"}),e.jsx("div",{style:{marginTop:8},children:"‚Ä¢ You will use your regression equation to predict dependent variable values for independent variable values that fall outside the range of your collected data."})]}),e.jsxs("div",{className:"info-card",style:{minHeight:120,display:"flex",flexDirection:"column",justifyContent:"center"},children:[e.jsx("div",{style:{fontWeight:700},children:"üõ†Ô∏è How to do it:"}),e.jsxs("div",{style:{marginTop:8},children:["‚Ä¢ Access the extrapolation sheet from the provided link.",e.jsx("br",{}),"‚Ä¢ Choose values for your independent variable that are either lower than your minimum or higher than your maximum data points.",e.jsx("br",{}),"‚Ä¢ Calculate the predicted y-values using your regression equation and consider the reliability and limitations of these predictions."]})]})]}),e.jsxs("div",{className:"card",style:{marginTop:16,padding:16},children:[e.jsx("div",{style:{fontWeight:700,textAlign:"left"},children:"Extrapolation Prediction Activity"}),e.jsx("div",{style:{marginTop:8,textAlign:"left"},children:e.jsxs("div",{children:["Instructions:",e.jsx("br",{}),"1. Click on the link to open the extrapolation sheet.",e.jsx("br",{}),"2. Make a copy of the template for yourself.",e.jsx("br",{}),"3. Using the data of your independent variable, complete the tasks in the sheet.",e.jsx("br",{}),"4. When you're finished, download your completed work in PDF format.",e.jsx("br",{}),"5. Upload your file using the link below."]})}),e.jsx("div",{style:{height:24}}),e.jsx("a",{href:"https://docs.google.com/spreadsheets/d/1MuRMynHrNFCp1VBwali8HhWZMfbuAP9fks5U0wOLpi0/edit?usp=sharing",target:"_blank",rel:"noopener noreferrer",children:e.jsx("button",{className:"save-btn",style:{padding:"12px 22px",fontSize:16},children:"Extrapolation Activity"})}),e.jsx("div",{style:{height:40}}),e.jsx("div",{style:{fontWeight:700,textAlign:"left"},children:"Upload your output here."}),e.jsxs("div",{style:{marginTop:8,textAlign:"left"},children:["Before uploading, make sure it is in PDF format with this filename format: ",e.jsx("strong",{children:"Lesson3_Phase2_Activity2_username"}),"."]}),e.jsx("div",{style:{height:24}}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:12},children:e.jsx("input",{type:"file",accept:"application/pdf",disabled:ke,onChange:t=>{const i=t.target.files?.[0]??null;if(kt(i),i)try{const s=new FileReader;s.onload=()=>{ae(String(s.result||""))},s.readAsDataURL(i)}catch{ae(null)}else ae(null)}})}),e.jsx("div",{style:{height:24}}),e.jsx("div",{style:{width:"100%",padding:8,border:"3px solid rgba(0,0,0,0.34)",borderRadius:8,minHeight:0,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("div",{style:{width:"100%",paddingTop:"56.25%",position:"relative"},children:e.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center"},children:Oe?e.jsx("iframe",{src:Oe,style:{width:"100%",height:"100%",border:"none"},title:"Preview"}):e.jsx("div",{className:"hint",children:"No file uploaded. Preview will appear here."})})})}),e.jsx("div",{style:{height:40}}),e.jsx("div",{className:"section-actions",style:{display:"flex",justifyContent:"flex-start"},children:e.jsx("button",{className:"save-btn",disabled:ke||!ne,onClick:async()=>{if(!ne)return;let t=!1;try{const s=W();s&&s[r.username]&&(t=!0)}catch{}let i;try{i=await new Promise((s,a)=>{const l=new FileReader;l.onload=()=>s(String(l.result||"")),l.onerror=()=>a(new Error("read error")),l.readAsDataURL(ne)})}catch(s){console.error("read failed",s)}try{await Lt(r.username,{fileDataUrl:i,filename:ne.name,timestamp:new Date().toISOString()})}catch(s){console.error("save failed",s)}Ue(!0);try{if(!t){const s=k(r.username)||{1:0,2:0,3:0,4:0,5:0},a=Number(s[4]||0)||0,l=Math.min(100-a,8);if(l>0){const o=Math.min(100,y+l);S(o);try{localStorage.setItem("lesson3_extra_progress",String(o))}catch{}w(r.username,4,Math.min(100,a+l))}}}catch{}},children:"Submit Output"})}),ke&&e.jsx("div",{style:{marginTop:12,textAlign:"left"},children:"Woohoo! You've mastered extrapolation‚Äîpredicting y-values BEYOND your data range! You're like a math fortune teller gazing into the crystal ball of numbers! üîÆ‚ú®"})]})]})]}),e.jsxs("div",{className:"sub-item",children:[e.jsxs("div",{className:"sub-header blue",onClick:()=>Y(t=>({...t,a3:!t.a3})),children:[e.jsxs("span",{className:"label",children:[e.jsx("span",{className:"icon",children:"üìä"})," ",e.jsx("b",{children:"Activity 3: Determining the Strength of Your Model"})]}),e.jsx("span",{className:"right-indicator",children:e.jsx("span",{className:"toggle-sign",children:M.a3?"‚àí":"+"})})]}),e.jsxs("div",{className:"sub-content",style:{display:M.a3?"block":"none"},children:[e.jsxs("div",{className:"brief-grid two-up",style:{gap:16,marginTop:8},children:[e.jsxs("div",{className:"info-card",style:{minHeight:120,display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[e.jsx("div",{style:{fontWeight:700},children:"üß≠ What you will do:"}),e.jsx("div",{style:{marginTop:8},children:"‚Ä¢ You will calculate the coefficient of determination (R¬≤) to measure how well your regression line explains the variation in your dependent variable."})]}),e.jsxs("div",{className:"info-card",style:{minHeight:120,display:"flex",flexDirection:"column",justifyContent:"center"},children:[e.jsx("div",{style:{fontWeight:700},children:"üõ†Ô∏è How to do it:"}),e.jsxs("div",{style:{marginTop:8},children:["‚Ä¢ Use the determination link to access the calculation sheet.",e.jsx("br",{}),"‚Ä¢ Follow the steps to compute R¬≤, which will give you a value between 0 and 1.",e.jsx("br",{}),"‚Ä¢ This value indicates what percentage of the variation in your dependent variable is explained by your independent variable‚Äîthe closer to 1, the stronger your model."]})]})]}),e.jsxs("div",{className:"card",style:{marginTop:16,padding:16},children:[e.jsx("div",{style:{fontWeight:700,textAlign:"left"},children:"Understanding Coefficient Determination"}),e.jsx("div",{style:{marginTop:8,textAlign:"left"},children:e.jsxs("div",{children:["Instructions:",e.jsx("br",{}),"1. Click on the link to open the coefficient determination sheet.",e.jsx("br",{}),"2. Make a copy of the template for yourself.",e.jsx("br",{}),"3. Using the data of your independent variable, complete the tasks in the sheet.",e.jsx("br",{}),"4. When you're finished, download your completed work in PDF format.",e.jsx("br",{}),"5. Upload your file using the link below."]})}),e.jsx("div",{style:{height:24}}),e.jsx("a",{href:"https://docs.google.com/spreadsheets/d/1vwFv_VYcQ7k_5hDK9UwvdqpNpBrfe19sTx4-ZbonNwM/edit?usp=sharing",target:"_blank",rel:"noopener noreferrer",children:e.jsx("button",{className:"save-btn",style:{padding:"12px 22px",fontSize:16},children:"Coefficient of Determination Activity"})}),e.jsx("div",{style:{height:40}}),e.jsx("div",{style:{fontWeight:700,textAlign:"left"},children:"Upload your output here."}),e.jsxs("div",{style:{marginTop:8,textAlign:"left"},children:["Before uploading, make sure it is in PDF format with this filename format: ",e.jsx("strong",{children:"Lesson3_Phase2_Activity3_username"}),"."]}),e.jsx("div",{style:{height:24}}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:12},children:e.jsx("input",{type:"file",accept:"application/pdf",disabled:z,onChange:t=>{const i=t.target.files?.[0]??null;if(Ct(i),i)try{const s=new FileReader;s.onload=()=>{le(String(s.result||""))},s.readAsDataURL(i)}catch{le(null)}else le(null)}})}),e.jsx("div",{style:{height:24}}),e.jsx("div",{style:{width:"100%",padding:8,border:"3px solid rgba(0,0,0,0.34)",borderRadius:8,minHeight:0,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("div",{style:{width:"100%",paddingTop:"56.25%",position:"relative"},children:e.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center"},children:re?e.jsx("iframe",{src:re,style:{width:"100%",height:"100%",border:"none"},title:"Preview"}):e.jsx("div",{className:"hint",children:"No file uploaded. Preview will appear here."})})})}),e.jsx("div",{style:{height:24}}),e.jsx("div",{style:{fontWeight:700,textAlign:"left"},children:"What does the coefficient determination tell you about the predicting power of your independent variable?"}),e.jsx("div",{style:{height:8}}),e.jsx("textarea",{value:oe,onChange:t=>Be(t.target.value),readOnly:z,placeholder:"Type your interpretation here...",rows:4,style:{width:"100%",padding:14,border:"2px solid rgba(0,0,0,0.45)",borderRadius:8,background:"var(--input-bg)",marginRight:12,minHeight:120}}),e.jsx("div",{style:{height:8}}),e.jsx("div",{style:{fontSize:12,fontStyle:"italic",color:"rgba(0,0,0,0.7)"},children:"Template: The coefficient of determination value (r2=0.827) indicates that the independent variable, heat index, explains 82.7% of the variability of the dependent variable, which is heat-related illnesses, leaving 17.3% of the variability of the dependent variable can be explained by variables not covered by the analysis."}),e.jsx("div",{style:{height:32}}),e.jsx("div",{className:"section-actions",style:{display:"flex",justifyContent:"flex-start"},children:e.jsx("button",{className:"save-btn",disabled:z||!_&&!oe.trim(),onClick:async()=>{if(z||!_&&!oe.trim())return;let t=!1;try{const a=T();a&&a[r.username]&&(t=!0)}catch{}let i,s;if(_){s=_.name;try{i=await new Promise((a,l)=>{const o=new FileReader;o.onload=()=>a(String(o.result||"")),o.onerror=()=>l(new Error("read error")),o.readAsDataURL(_)})}catch(a){console.error("read failed",a)}}else re&&(i=re);try{await Ot(r.username,{fileDataUrl:i,filename:s,interpretation:oe.trim(),timestamp:new Date().toISOString()})}catch(a){console.error("save failed",a)}He(!0);try{if(!t){const a=k(r.username)||{1:0,2:0,3:0,4:0,5:0},l=Number(a[4]||0)||0,o=Math.min(100-l,9);if(o>0){const h=Math.min(100,y+o);S(h);try{localStorage.setItem("lesson3_extra_progress",String(h))}catch{}w(r.username,4,Math.min(100,l+o))}}}catch{}},children:"Submit Output"})}),z&&e.jsx("div",{style:{marginTop:12,textAlign:"left"},children:"You just figured out how strong your regression line's predicting powers are! Is it a superhero or just pretty good? Either way, YOU nailed it like a boss! üí™üéØ"})]})]})]})]})})]}),e.jsxs("div",{className:"accordion-item phase3",children:[e.jsxs("div",{className:"accordion-header",onClick:()=>{A(t=>({...t,p3:!t.p3}))},children:[e.jsx("h3",{children:"Phase 3: Refining Evidence-Based Recommendations"}),e.jsx("span",{children:m.p3?"‚ñº":"‚ñ∂"})]}),m.p3&&e.jsxs("div",{className:"accordion-content",children:[e.jsxs("div",{className:"brief-grid two-up",style:{gap:16,marginTop:8},children:[e.jsxs("div",{className:"info-card",style:{minHeight:120,display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[e.jsx("div",{style:{fontWeight:700},children:"üß≠ What you will do:"}),e.jsx("div",{style:{marginTop:8},children:"‚Ä¢ You will revisit your initial recommendation from Lesson 2 and improve it by incorporating your understanding of correlation strength and how much of the variation your model explains."})]}),e.jsxs("div",{className:"info-card",style:{minHeight:120,display:"flex",flexDirection:"column",justifyContent:"center"},children:[e.jsx("div",{style:{fontWeight:700},children:"üõ†Ô∏è How to do it:"}),e.jsxs("div",{style:{marginTop:8},children:["‚Ä¢ Review your original recommendation and consider what you've learned about the strength of the relationship between your variables (correlation) and how much of the outcome your model can explain (R¬≤).",e.jsx("br",{}),"‚Ä¢ Adjust your recommendation to be more accurate, nuanced, and evidence-based, acknowledging both the strengths and limitations of your findings."]})]})]}),e.jsxs("div",{className:"card",style:{marginTop:16,padding:16},children:[e.jsx("div",{style:{fontWeight:700,textAlign:"left"},children:"Our Evidence-Based Recommendation"}),e.jsx("div",{style:{marginTop:8,textAlign:"left"},children:e.jsxs("div",{children:["Instructions:",e.jsx("br",{}),"1. Click on the link to open the template.",e.jsx("br",{}),"2. Make a copy of the template for yourself.",e.jsx("br",{}),"3. Discuss with your group members and complete the activity.",e.jsx("br",{}),"4. When you're finished, download your completed work.",e.jsx("br",{}),"5. Upload your file using the link below."]})}),e.jsx("div",{style:{height:24}}),e.jsx("a",{href:"https://docs.google.com/document/d/1NFP8wTGI5yJhQWn-QIoXObEW3YQPnWqGfeNFgwVHB1E/edit?usp=sharing",target:"_blank",rel:"noopener noreferrer",children:e.jsx("button",{className:"save-btn",style:{padding:"12px 22px",fontSize:16},children:"Enhancing Recommendation"})}),e.jsx("div",{style:{height:40}}),e.jsx("div",{style:{fontWeight:700,textAlign:"left"},children:"Upload your output here."}),e.jsxs("div",{style:{marginTop:8,textAlign:"left"},children:["Before uploading, make sure it is in PDF format with this filename format: ",e.jsx("strong",{children:"Lesson3_Phase3_username"}),"."]}),e.jsx("div",{style:{height:24}}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:12},children:e.jsx("input",{type:"file",accept:"application/pdf",disabled:Ye,onChange:t=>{const i=t.target.files?.[0]??null;if(Pt(i),i)try{const s=new FileReader;s.onload=()=>{ce(String(s.result||""))},s.readAsDataURL(i)}catch{ce(null)}else ce(null)}})}),e.jsx("div",{style:{height:24}}),e.jsx("div",{style:{width:"100%",padding:8,border:"3px solid rgba(0,0,0,0.34)",borderRadius:8,minHeight:0,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("div",{style:{width:"100%",paddingTop:"56.25%",position:"relative"},children:e.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center"},children:qe?e.jsx("iframe",{src:qe,style:{width:"100%",height:"100%",border:"none"},title:"Preview"}):e.jsx("div",{className:"hint",children:"No file uploaded. Preview will appear here."})})})}),e.jsx("div",{style:{height:40}}),e.jsx("div",{className:"section-actions",style:{display:"flex",justifyContent:"flex-start"},children:e.jsx("button",{className:"save-btn",disabled:Ye||!de,onClick:async()=>{if(!de)return;let t=!1;try{const s=D();s&&s[r.username]&&(t=!0)}catch{}let i;try{i=await new Promise((s,a)=>{const l=new FileReader;l.onload=()=>s(String(l.result||"")),l.onerror=()=>a(new Error("read error")),l.readAsDataURL(de)})}catch(s){console.error("read failed",s)}try{await Ut(r.username,{fileDataUrl:i,filename:de.name,timestamp:new Date().toISOString()})}catch(s){console.error("save failed",s)}_e(!0),A({overview:!1,p1:!1,p2:!1,p3:!1,p4:!1});try{if(!t){const s=k(r.username)||{1:0,2:0,3:0,4:0,5:0},a=Number(s[4]||0)||0,l=Math.min(100-a,25);if(l>0){const o=Math.min(100,y+l);S(o);try{localStorage.setItem("lesson3_extra_progress",String(o))}catch{}w(r.username,4,Math.min(100,a+l))}}}catch{}},children:"Submit Output"})})]})]})]}),e.jsxs("div",{className:"accordion-item phase4",children:[e.jsxs("div",{className:"accordion-header",onClick:()=>{A(t=>({...t,p4:!t.p4}))},children:[e.jsx("h3",{children:"Phase 4: Communicating Findings"}),e.jsx("span",{children:m.p4?"‚ñº":"‚ñ∂"})]}),m.p4&&e.jsxs("div",{className:"accordion-content",children:[e.jsxs("div",{className:"brief-grid two-up",style:{gap:16,marginTop:8},children:[e.jsxs("div",{className:"info-card",style:{minHeight:120,display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[e.jsx("div",{style:{fontWeight:700},children:"üß≠ What you will do:"}),e.jsx("div",{style:{marginTop:8},children:"‚Ä¢ You will revisit your initial recommendation from Lesson 2 and improve it by incorporating your understanding of correlation strength and how much of the variation your model explains."})]}),e.jsxs("div",{className:"info-card",style:{minHeight:120,display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[e.jsx("div",{style:{fontWeight:700},children:"üõ†Ô∏è How to do it:"}),e.jsxs("div",{style:{marginTop:8},children:["‚Ä¢ Review your original recommendation and consider what you've learned about the strength of the relationship between your variables (correlation) and how much of the outcome your model can explain (R¬≤).",e.jsx("br",{}),"‚Ä¢ Adjust your recommendation to be more accurate, nuanced, and evidence-based, acknowledging both the strengths and limitations of your findings."]})]})]}),e.jsxs("div",{className:"card",style:{marginTop:16,padding:16},children:[e.jsx("div",{style:{fontWeight:700,textAlign:"left"},children:"Final Project Rubrics"}),e.jsx("div",{style:{marginTop:8,textAlign:"left"},children:"Before you begin doing your final project, study the rubrics below for your guidance."}),e.jsx("div",{style:{height:12}}),e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",border:"2px solid var(--plot-secondary)",background:"var(--plot-bg)"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{border:"1px solid var(--plot-secondary)",padding:8,background:"var(--plot-secondary)",color:"var(--plot-value-primary)",textAlign:"center",verticalAlign:"middle"},children:"Criterion"}),e.jsx("th",{style:{border:"1px solid var(--plot-secondary)",padding:8,background:"var(--plot-secondary)",color:"var(--plot-value-primary)",textAlign:"center",verticalAlign:"middle"},children:"Below Proficient (1-2)"}),e.jsx("th",{style:{border:"1px solid var(--plot-secondary)",padding:8,background:"var(--plot-secondary)",color:"var(--plot-value-primary)",textAlign:"center",verticalAlign:"middle"},children:"Proficient (3)"}),e.jsx("th",{style:{border:"1px solid var(--plot-secondary)",padding:8,background:"var(--plot-secondary)",color:"var(--plot-value-primary)",textAlign:"center",verticalAlign:"middle"},children:"Advanced (4)"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:700,border:"1px solid var(--plot-secondary)",padding:8},children:"CALCULATION ACCURACY"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"R value, R2 value, and regression line equation are incorrect, or calculation process has major errors"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"R value, R2 value, and regression line equation correctly calculated using appropriate method; minor errors in process"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"R value, R2 value, and regression line equation calculated both manually and digitally with verification; all steps shown accurately"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:700,border:"1px solid var(--plot-secondary)",padding:8},children:"INTERPRETATION"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"Misidentifies strength or direction; interpretation unclear"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"Correctly identifies strength and direction; explains meaning in context"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"Thorough interpretation with nuanced understanding; connects to climate patterns effectively"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:700,border:"1px solid var(--plot-secondary)",padding:8},children:"PATTERN ANALYSIS"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"Patterns not clearly identified; limited use of visual/numerical evidence"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"Patterns identified and described using scatter plot and r value"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"Sophisticated pattern analysis; discusses seasonal variations, outliers, or subgroup differences"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:700,border:"1px solid var(--plot-secondary)",padding:8},children:"DATA RELIABILITY EVALUATION"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"No discussion of limitations or data quality"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"Acknowledges at least 2 limitations (sample size, time period, missing variables)"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"Critical evaluation of data quality with specific implications for confidence in findings"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:700,border:"1px solid var(--plot-secondary)",padding:8},children:"EVIDENCE-BASED CONCLUSIONS"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"Conclusions not clearly supported by data; confuses correlation with causation"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"Conclusions logically follow from data; distinguishes between correlation and causation"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"Nuanced conclusions that appropriately acknowledge what data does and doesn't show; considers alternative explanations"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:700,border:"1px solid var(--plot-secondary)",padding:8},children:"ACTIONABLE RECOMMENDATION"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"No clear recommendation OR recommendation not connected to findings"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"Specific, stakeholder-focused recommendation with clear justification"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"Highly actionable recommendation with detailed implementation guidance; addresses potential challenges"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:700,border:"1px solid var(--plot-secondary)",padding:8},children:"COMMUNICATION CLARITY"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"Output disorganized; findings unclear; poor visual/written presentation"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"Clear organization; findings communicated effectively; appropriate visuals"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"Professional-quality output; compelling presentation; excellent integration of text, data, visuals"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:700,border:"1px solid var(--plot-secondary)",padding:8},children:"REFLECTION ON PROCESS"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"Minimal reflection on assumptions, uncertainties, or learning"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"Reflects on analytical assumptions and uncertainties; identifies learning growth"}),e.jsx("td",{style:{border:"1px solid var(--plot-secondary)",padding:8,textAlign:"left"},children:"Deep metacognitive reflection; discusses how experience changed understanding of statistics and climate"})]})]})]}),e.jsx("div",{style:{height:12}}),e.jsx("div",{style:{fontWeight:700,fontSize:18,textAlign:"right"},children:"Total Points: _____ / 32"})]}),e.jsx("div",{style:{height:16}}),e.jsxs("div",{className:"card",style:{marginTop:16,padding:16,background:"var(--plot-bg)",border:"1px solid var(--plot-secondary)"},children:[e.jsx("div",{style:{fontWeight:700,textAlign:"left"},children:"Final Project Selector"}),e.jsx("div",{style:{marginTop:8,textAlign:"left"},children:"Choose one format for your final output. Click on the link to access the platform where you can start developing your final output. Once done, save the output as pdf file and upload below."}),e.jsx("div",{style:{height:24}}),e.jsxs("div",{style:{display:"flex",gap:16,justifyContent:"space-between",alignItems:"stretch"},children:[e.jsxs("div",{className:"info-card",style:{flex:"1 1 0",padding:16,minHeight:180,height:"260px",boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"space-between",border:"1px solid var(--plot-secondary)",background:"var(--plot-bg)"},children:[e.jsx("div",{style:{fontWeight:700,textAlign:"left"},children:"Option A: Policy Bried"}),e.jsx("div",{style:{height:24}}),e.jsx("div",{style:{textAlign:"center"},children:"A formal, structured document that presents research findings and actionable recommendations"}),e.jsx("div",{style:{height:40}}),e.jsx("a",{href:"https://docs.google.com/document/d/1dpALsL8znktjNBH9JDi4XHzp7DLaLv1AZHe46vykHho/edit?usp=sharing",target:"_blank",rel:"noopener noreferrer",style:{margin:"0 auto",display:"block",width:"70%"},children:e.jsx("button",{className:"save-btn",style:{width:"100%",display:"block",margin:"0 auto"},children:"Go to Google Docs"})})]}),e.jsxs("div",{className:"info-card",style:{flex:"1 1 0",padding:16,minHeight:180,height:"260px",boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"space-between",border:"1px solid var(--plot-secondary)",background:"var(--plot-bg)"},children:[e.jsx("div",{style:{fontWeight:700,textAlign:"left"},children:"Option B: Infographics"}),e.jsx("div",{style:{height:24}}),e.jsx("div",{style:{textAlign:"center"},children:"A visually engaging, one-page graphic design that combines data visualizations, icons, charts, and minimal text to communicate key statistics and recommendations"}),e.jsx("div",{style:{height:40}}),e.jsx("a",{href:"https://www.canva.com/design/DAHAYXJ9ZtU/nH8b2T0QqAfyEHYl0e2lVg/edit",target:"_blank",rel:"noopener noreferrer",style:{margin:"0 auto",display:"block",width:"70%"},children:e.jsx("button",{className:"save-btn",style:{width:"100%"},children:"Go to Canva"})})]}),e.jsxs("div",{className:"info-card",style:{flex:"1 1 0",padding:16,minHeight:180,height:"260px",boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"space-between",border:"1px solid var(--plot-secondary)",background:"var(--plot-bg)"},children:[e.jsx("div",{style:{fontWeight:700,textAlign:"left"},children:"Option C: Slide Presentation"}),e.jsx("div",{style:{height:24}}),e.jsx("div",{style:{textAlign:"center"},children:"A multi-slide digital presentation that guides an audience through your findings step-by-step"}),e.jsx("div",{style:{height:40}}),e.jsx("a",{href:"https://docs.google.com/presentation/d/1j-h9xS-VPNi7qzvgokKTP2_33eAtwpNbTzdv6v9eojE/edit?usp=sharing",target:"_blank",rel:"noopener noreferrer",style:{margin:"0 auto",display:"block",width:"70%"},children:e.jsx("button",{className:"save-btn",style:{width:"100%"},children:"Go to Google Slides"})})]})]})]}),e.jsx("div",{style:{height:16}}),e.jsxs("div",{className:"card",style:{marginTop:16,padding:16,background:"var(--plot-bg)",border:"1px solid var(--plot-secondary)",minHeight:260,boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[e.jsx("div",{style:{fontWeight:700,textAlign:"left"},children:"Peer Review: Quality Check Before Submission"}),e.jsx("div",{style:{height:12}}),e.jsx("div",{style:{textAlign:"left"},children:"Before you upload the pdf file of your final output, make sure to ask one classmate who is not part of your group to identify your outputs strength and possible areas for improvement. Ask your classmate to answer the following:"}),e.jsx("div",{style:{height:32}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[e.jsxs("div",{style:{textAlign:"left"},children:["1. ",e.jsx("strong",{children:"CLARITY:"})," Can you understand their finding and recommendation without asking questions?"]}),e.jsxs("div",{style:{position:"relative",display:"inline-block",marginLeft:12},children:[e.jsxs("select",{value:he,onChange:t=>ze(t.target.value),disabled:v,style:{padding:"8px 12px",paddingRight:40,borderRadius:8,border:"1px solid var(--plot-secondary)",background:"var(--plot-bg)",color:"var(--plot-value-primary)",fontFamily:"Poppins, sans-serif",width:220,appearance:"none"},children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"Very clear",children:"Very clear"}),e.jsx("option",{value:"Mostly clear",children:"Mostly clear"}),e.jsx("option",{value:"Confusing",children:"Confusing"})]}),e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute",right:10,top:"50%",transform:"translateY(-50%)",pointerEvents:"none"},children:e.jsx("path",{d:"M7 10l5 5 5-5",stroke:"var(--plot-value-primary)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),e.jsx("div",{style:{height:12}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[e.jsxs("div",{style:{textAlign:"left"},children:["2. ",e.jsx("strong",{children:"EVIDENCE:"})," Is their recommendation clearly supported by their r value, coefficient of determination, regression line equation, and interpretation?"]}),e.jsxs("div",{style:{position:"relative",display:"inline-block",marginLeft:12},children:[e.jsxs("select",{value:pe,onChange:t=>Ve(t.target.value),disabled:v,style:{padding:"8px 12px",paddingRight:40,borderRadius:8,border:"1px solid var(--plot-secondary)",background:"var(--plot-bg)",color:"var(--plot-value-primary)",fontFamily:"Poppins, sans-serif",width:220,appearance:"none"},children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"Strong support",children:"Strong support"}),e.jsx("option",{value:"Some support",children:"Some support"}),e.jsx("option",{value:"Weak support",children:"Weak support"})]}),e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute",right:10,top:"50%",transform:"translateY(-50%)",pointerEvents:"none"},children:e.jsx("path",{d:"M7 10l5 5 5-5",stroke:"var(--plot-value-primary)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),e.jsx("div",{style:{height:12}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[e.jsxs("div",{style:{textAlign:"left"},children:["3. ",e.jsx("strong",{children:"ACTIONABILITY:"})," Could a stakeholder actually implement this recommendation?"]}),e.jsxs("div",{style:{position:"relative",display:"inline-block",marginLeft:12},children:[e.jsxs("select",{value:ue,onChange:t=>Ge(t.target.value),disabled:v,style:{padding:"8px 12px",paddingRight:40,borderRadius:8,border:"1px solid var(--plot-secondary)",background:"var(--plot-bg)",color:"var(--plot-value-primary)",fontFamily:"Poppins, sans-serif",width:220,appearance:"none"},children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"Yes, very specific",children:"Yes, very specific"}),e.jsx("option",{value:"Somewhat",children:"Somewhat"}),e.jsx("option",{value:"Too vague",children:"Too vague"})]}),e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute",right:10,top:"50%",transform:"translateY(-50%)",pointerEvents:"none"},children:e.jsx("path",{d:"M7 10l5 5 5-5",stroke:"var(--plot-value-primary)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),e.jsx("div",{style:{height:12}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[e.jsxs("div",{style:{textAlign:"left"},children:["4. ",e.jsx("strong",{children:"HONESTY:"})," Did they acknowledge limitations of their data?"]}),e.jsxs("div",{style:{position:"relative",display:"inline-block",marginLeft:12},children:[e.jsxs("select",{value:ge,onChange:t=>Qe(t.target.value),disabled:v,style:{padding:"8px 12px",paddingRight:40,borderRadius:8,border:"1px solid var(--plot-secondary)",background:"var(--plot-bg)",color:"var(--plot-value-primary)",fontFamily:"Poppins, sans-serif",width:220,appearance:"none"},children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"Somewhat",children:"Somewhat"}),e.jsx("option",{value:"No",children:"No"})]}),e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute",right:10,top:"50%",transform:"translateY(-50%)",pointerEvents:"none"},children:e.jsx("path",{d:"M7 10l5 5 5-5",stroke:"var(--plot-value-primary)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),e.jsx("div",{style:{height:48}}),e.jsx("div",{style:{fontWeight:700,textAlign:"left"},children:"ONE STRENGTH of their work:"}),e.jsx("div",{style:{height:8}}),e.jsx("div",{style:{padding:"0 8px"},children:e.jsx("textarea",{value:xe,onChange:t=>Ze(t.target.value),rows:2,placeholder:"Type one clear strength...",readOnly:v,style:{width:"100%",padding:12,border:"2px solid var(--plot-value-primary)",borderRadius:8,background:"var(--input-bg)",fontFamily:"Poppins, sans-serif"}})}),e.jsx("div",{style:{height:8}}),e.jsx("div",{style:{fontWeight:700,textAlign:"left"},children:"ONE SUGGESTION for improvement:"}),e.jsx("div",{style:{height:8}}),e.jsx("div",{style:{padding:"0 8px"},children:e.jsx("textarea",{value:ye,onChange:t=>Je(t.target.value),rows:2,placeholder:"Type one specific suggestion...",readOnly:v,style:{width:"100%",padding:12,border:"2px solid var(--plot-value-primary)",borderRadius:8,background:"var(--input-bg)",fontFamily:"Poppins, sans-serif"}})}),e.jsx("div",{style:{height:24}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx("div",{style:{whiteSpace:"nowrap"},children:"Username of Peer reviewer:"}),e.jsx("input",{value:fe,onChange:t=>Ke(t.target.value),placeholder:"peer_username",readOnly:v,style:{flex:1,padding:10,border:"2px solid var(--plot-value-primary)",borderRadius:8,background:"var(--input-bg)",fontFamily:"Poppins, sans-serif"}}),e.jsx("div",{style:{marginLeft:"auto"},children:e.jsx("button",{className:"save-btn",disabled:v||!(he&&pe&&ue&&ge&&xe.trim()&&ye.trim()&&fe.trim()),onClick:async()=>{if(v||!(he&&pe&&ue&&ge&&xe.trim()&&ye.trim()&&fe.trim()))return;let t=!1;try{const i=F();i&&i[r.username]&&(t=!0)}catch{}try{await Ht(r.username,{q1:[he],q2:[pe],q3:[ue],q4:[ge],strength:xe.trim(),suggestion:ye.trim(),reviewer:fe.trim()})}catch(i){console.error("save peer review failed",i)}Xe(!0);try{if(!t){const i=k(r.username)||{1:0,2:0,3:0,4:0,5:0},s=Number(i[4]||0)||0,a=Math.min(100-s,10);if(a>0){const l=Math.min(100,y+a);S(l);try{localStorage.setItem("lesson3_extra_progress",String(l))}catch{}w(r.username,4,Math.min(100,s+a))}}}catch{}},children:"Submit Review"})})]}),e.jsx("div",{style:{height:12}}),v&&e.jsx("div",{style:{color:"var(--plot-value-primary)",marginTop:12},children:"Review submitted ‚Äî thank you!"})]}),e.jsx("div",{style:{height:16}}),e.jsxs("div",{className:"card",style:{marginTop:16,padding:16,background:"var(--plot-bg)",border:"1px solid var(--plot-secondary)",boxSizing:"border-box"},children:[e.jsx("div",{style:{fontWeight:700,textAlign:"left"},children:"Reflection and Final Submission"}),e.jsx("div",{style:{height:24}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx("div",{style:{flex:"0 0 auto"},children:"1. How confident am I in my correlation calculation?"}),e.jsx("input",{value:$e,onChange:t=>et(t.target.value),placeholder:"e.g., Very confident",style:{flex:1,padding:10,border:"2px solid var(--plot-value-primary)",borderRadius:8,background:"var(--input-bg)",fontFamily:"Poppins, sans-serif"}})]}),e.jsx("div",{style:{height:12}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx("div",{style:{flex:"0 0 auto"},children:"2. What contributed to this confidence level?"}),e.jsx("input",{value:tt,onChange:t=>it(t.target.value),placeholder:"Brief reasons...",style:{flex:1,padding:10,border:"2px solid var(--plot-value-primary)",borderRadius:8,background:"var(--input-bg)",fontFamily:"Poppins, sans-serif"}})]}),e.jsx("div",{style:{height:12}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx("div",{style:{flex:"0 0 auto"},children:"3. What was most challenging about this project?"}),e.jsx("input",{value:st,onChange:t=>nt(t.target.value),placeholder:"Challenge...",style:{flex:1,padding:10,border:"2px solid var(--plot-value-primary)",borderRadius:8,background:"var(--input-bg)",fontFamily:"Poppins, sans-serif"}})]}),e.jsx("div",{style:{height:12}}),e.jsx("div",{style:{textAlign:"left"},children:"4. How has this project changed my understanding of:"}),e.jsx("div",{style:{height:8}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginLeft:48},children:[e.jsx("div",{style:{flex:"0 0 160px"},children:"Statistics:"}),e.jsx("input",{value:at,onChange:t=>rt(t.target.value),placeholder:"e.g., More comfortable with r and R¬≤",style:{flex:1,padding:10,border:"2px solid var(--plot-value-primary)",borderRadius:8,background:"var(--input-bg)",fontFamily:"Poppins, sans-serif"}})]}),e.jsx("div",{style:{height:8}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginLeft:48},children:[e.jsx("div",{style:{flex:"0 0 160px"},children:"Climate:"}),e.jsx("input",{value:lt,onChange:t=>ot(t.target.value),placeholder:"e.g., Better link to outcomes",style:{flex:1,padding:10,border:"2px solid var(--plot-value-primary)",borderRadius:8,background:"var(--input-bg)",fontFamily:"Poppins, sans-serif"}})]}),e.jsx("div",{style:{height:8}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginLeft:48},children:[e.jsx("div",{style:{flex:"0 0 160px"},children:"The connection between them:"}),e.jsx("input",{value:dt,onChange:t=>ct(t.target.value),placeholder:"e.g., How stats inform climate recommendations",style:{flex:1,padding:10,border:"2px solid var(--plot-value-primary)",borderRadius:8,background:"var(--input-bg)",fontFamily:"Poppins, sans-serif"}})]}),e.jsx("div",{style:{height:12}}),e.jsx("div",{style:{fontWeight:700,textAlign:"left"},children:"5. If I could extend this project, I would investigate:"}),e.jsx("div",{style:{height:8}}),e.jsx("div",{style:{padding:"0 8px"},children:e.jsx("textarea",{value:ht,onChange:t=>pt(t.target.value),rows:2,placeholder:"Describe an extension idea...",style:{width:"100%",padding:12,border:"2px solid var(--plot-value-primary)",borderRadius:8,background:"var(--input-bg)",fontFamily:"Poppins, sans-serif"}})}),e.jsx("div",{style:{height:12}}),e.jsx("div",{style:{fontWeight:700,textAlign:"left"},children:"6. One thing I learned about myself as a learner:"}),e.jsx("div",{style:{height:8}}),e.jsx("div",{style:{padding:"0 8px"},children:e.jsx("textarea",{value:ut,onChange:t=>gt(t.target.value),rows:2,placeholder:"Personal learning insight...",style:{width:"100%",padding:12,border:"2px solid var(--plot-value-primary)",borderRadius:8,background:"var(--input-bg)",fontFamily:"Poppins, sans-serif"}})}),e.jsx("div",{style:{height:16}}),e.jsx("div",{style:{fontWeight:700,textAlign:"left"},children:"Upload your Final Output here."}),e.jsx("div",{style:{height:8}}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:12},children:e.jsx("input",{type:"file",accept:"application/pdf",disabled:Ce,onChange:t=>{const i=t.target.files?.[0]??null;if(Rt(i),i)try{ve(URL.createObjectURL(i))}catch{ve(null)}else ve(null)}})}),e.jsx("div",{style:{height:12}}),e.jsx("div",{style:{width:"100%",padding:8,border:"3px solid var(--plot-value-primary)",borderRadius:8,minHeight:0,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("div",{style:{width:"100%",paddingTop:"56.25%",position:"relative"},children:e.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center"},children:xt?e.jsx("iframe",{src:xt,style:{width:"100%",height:"100%",border:"none"},title:"Final Preview"}):e.jsx("div",{className:"hint",children:"No file uploaded. Preview will appear here."})})})}),e.jsx("div",{style:{height:16}}),e.jsx("div",{children:e.jsx("button",{className:"save-btn",style:{padding:"14px 28px",fontSize:16},disabled:!me||Ce,onClick:async()=>{if(!me)return;let t=!1;try{const i=E();i&&i[r.username]&&(t=!0)}catch{}try{const i=new FileReader;i.onload=async s=>{const a=s.target?.result||null;try{const l={confidence:$e||"",contributed:tt||"",challenging:st||"",stats:at||"",climate:lt||"",connection:dt||"",extend:ht||"",learned:ut||""};await Bt(r.username,l,a,me.type)}catch(l){console.error("savePhase4Reflection failed",l)}yt(!0);try{if(!t){const l=k(r.username)||{1:0,2:0,3:0,4:0,5:0},o=Number(l[4]||0)||0,h=Math.min(100-o,15);if(h>0){const g=Math.min(100,y+h);S(g);try{localStorage.setItem("lesson3_extra_progress",String(g))}catch{}w(r.username,4,Math.min(100,o+h))}}}catch{}},i.readAsDataURL(me)}catch(i){console.error("file read failed",i)}},children:"Submit Final Output"})}),Ce&&e.jsx("div",{style:{color:"var(--plot-value-primary)",marginTop:12},children:"Final output submitted ‚Äî great work!"})]})]})]})]})]})})]})};export{Ii as L};
